<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
	<title>Gerador de Assinatura de E-mail Rede Primavera</title>

	<!-- Importa biblioteca hmtl2canvas.js para gerar a imagem -->
	<script src='html2canvas.js'></script>

	<!-- Formata borda do DIV Assinatura para recorte da imagem -->
	<style>
        body{
			font-family: Arial, Helvetica, sans-serif;
		}

		#Assinatura {
            border: 1px solid white;
            padding: 4px;
			width: 500px;
        }
	</style>	
</head>
<body>
  <script>
    function exibirAssinatura() {
		var urlParams = new URLSearchParams(window.location.search);
		var nome = urlParams.get('nome');
		var funcao = urlParams.get('funcao');
		var telefone = urlParams.get('telefone');
		var celular = urlParams.get('celular');
		var ramal = urlParams.get('ramal');
		var email = urlParams.get('email');
		var logomarca = urlParams.get('logomarca');
		
		document.write('<div id="Assinatura">');
		
		document.write('<font size="3px" face="calibri"></br>');
		document.write('Atenciosamente,' + '</br></br>');
		document.write('<b>' + decodeURIComponent(nome) + '</b></br>');
		document.write(decodeURIComponent(funcao) + '</br>');
		document.write(decodeURIComponent(telefone) + ' / ' + decodeURIComponent(celular) + ' / Ramal ' + decodeURIComponent(ramal) + '</br>');
		document.write('<a href="mailto:' + decodeURIComponent(email) + '">' + decodeURIComponent(email) + '</a></b></br>');
		document.write('<a href="www.redeprimavera.com.br">www.redeprimavera.com.br</a></br></br>');
		document.write('</font>');

		if (logomarca === "HP") {
			document.write('<img src="imagem-hospital-primavera.jpg" alt="" width="480" height=""></br>');
		} else {
			document.write('<img src="imagem-hospital-coracao.jpg" alt="" width="480" height=""></br>');
		}

		document.write('<div style="position:relative;width:500px"><font size="1" face="calibri" color="gray">Esta mensagem, incluindo seus anexos, é material corporativo de uso privado, tem caráter confidencial e sigiloso protegido por lei, sendo proibida sua utilização, divulgação, cópia ou distribuição por qualquer pessoa diferente do destinatário. Caso tenha sido recebida por engano, queira, por favor, notificar o remetente.</font></div>');
	
		document.write('</div>');
	}
	
	// Função captura tela com base do DIV Assinatura e inclui a imagem capturada após o DIV capturaAssinatura
	function takeshot() {
            let div =
                document.getElementById('Assinatura');
  
            html2canvas(div).then(
                function (canvas) {
                    document
                    .getElementById('capturaAssinatura')
                    .appendChild(canvas);
                })
        }

	exibirAssinatura();
  </script>
</body>
	</br>
	<input type="button" Value="Voltar" onclick="history.go(-1)">
	<input type="button" Value="Gerar Imagem" onclick="takeshot()">

	<p>Clique no botão [Gerar Imagem] acima para gerar a imagem logo abaixo:</p>
	
	<a>
	<div id="capturaAssinatura"></div>
	</a>
</html>